(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,a,t){e.exports=t(75)},42:function(e,a,t){},47:function(e,a,t){},70:function(e,a,t){},72:function(e,a,t){},75:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),c=t(30),r=t.n(c),i=t(15),l=t(11),o=t(5),u=t(6),m=t(8),d=t(7),b=t(9),g=t(77),p=t(78),h=(t(42),t(16)),f=t.n(h),v=(t(47),function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(c)))).skillTags=function(e){for(var a=[],t=0;t<6;t++)a.push(s.a.createElement("span",{key:e[t].skill_uuid,className:"tag is-info is-capitalized"},e[t].skill_name));return s.a.createElement("div",{className:"tags"},a)},t}return Object(b.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"card"},!this.props.showSkills&&s.a.createElement("button",{className:"delete is-pulled-right",onClick:function(){return e.props.deleteRecent(e.props.job.job_uuid)}}),s.a.createElement("div",{className:"card-content"},s.a.createElement("div",{className:"media"},s.a.createElement("div",{className:"media-left"},s.a.createElement("span",{className:"icon is-large"},s.a.createElement("i",{className:"fa fa-user-tie fa-3x"}))),s.a.createElement("div",{className:"media-content"},s.a.createElement("p",{className:"title is-5"},this.props.job.job_title),s.a.createElement("p",{className:"subtitle is-6"},f()(this.props.job.date).format("DD-MM-YYYY HH:mm:ss")))),this.props.showSkills&&s.a.createElement("div",{className:"content"},s.a.createElement("hr",null),s.a.createElement("p",null,"Skills required: "),this.skillTags(this.props.job.skills),s.a.createElement("button",{className:"button is-info is-pulled-right is-inverted"},"Detail"),"\xa0")))}}]),a}(n.Component)),E=Object(l.b)(null,function(e){return{deleteRecent:function(a){return e({type:"DELETE",value:a})}}})(v),N=t(13),j=t(12),O=t.n(j),k=t(14),w=t(17),S=t(21),y=t.n(S),x=(t(70),function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(m.a)(this,Object(d.a)(a).call(this,e))).clearSearch=function(){t.setState({search:"",suggestions:{}})},t.onChange=function(){var e=Object(w.a)(O.a.mark(function e(a){var n,s,c;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.target.value,c=a.target.name,e.next=4,t.setState((n={},Object(k.a)(n,c,s),Object(k.a)(n,"suggestions",{}),n));case 4:t.autocomplete();case 5:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}(),t.autocomplete=Object(w.a)(O.a.mark(function e(){var a,n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(""===(a=t.state.search)||a.length<2)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,y()("http://api.dataatwork.org/v1/jobs/autocomplete?begins_with=".concat(a));case 5:(n=e.sent).data.length>0&&t.setState({suggestions:n.data,showSuggestions:!0});case 7:case"end":return e.stop()}},e,this)})),t.onKeyDown=function(e){var a=t.state,n=a.activeSuggestion,s=a.suggestions;if(13===e.keyCode)t.selectSuggestion(Object.values(s)[n]);else if(38===e.keyCode){if(0===n)return;t.setState({activeSuggestion:n-1})}else if(40===e.keyCode){if(n-1===Object.values(s).length)return;t.setState({activeSuggestion:n+1})}},t.suggestionList=function(){var e=t.state,a=e.suggestions,n=e.search,c=e.activeSuggestion,r=e.showSuggestions;if(0!==!Object.values(a).length&&r)return s.a.createElement("div",{id:"autocomplete-list",className:"autocomplete-items"},Object.values(a).map(function(e,a){return s.a.createElement("div",{key:e.uuid,onClick:function(){t.selectSuggestion(e)},className:a===c?"autocomplete-active":"has-text-grey"},s.a.createElement("strong",null,e.suggestion.substr(0,n.length)),e.suggestion.substr(n.length))}))},t.selectSuggestion=function(){var e=Object(w.a)(O.a.mark(function e(a){var n,s;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return t.setState({suggestions:{},search:a.suggestion,activeSuggestion:0}),e.next=5,y()("http://api.dataatwork.org/v1/jobs/".concat(a.uuid,"/related_skills"));case 5:n=e.sent,console.log("JOB",n.data),s=Object(N.a)({},n.data,{date:f()()}),t.props.saveRecent(s);case 9:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}(),t.onBlur=function(){setTimeout(function(){t.setState({showSuggestions:!1})},100)},t.state={search:"",activeSuggestion:0,showSuggestions:!1,suggestions:{}},t}return Object(b.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){var e=this.state.search;return s.a.createElement("div",{className:"field has-addons"},s.a.createElement("div",{className:"control autocomplete"},s.a.createElement("input",{className:"input search-input",type:"text",placeholder:"Search for...",onClick:this.clearSearch,onChange:this.onChange,value:e,name:"search",id:"search",autoComplete:"off",onKeyDown:this.onKeyDown,onBlur:this.onBlur}),this.suggestionList()),s.a.createElement("div",{className:"control"},s.a.createElement("button",{className:"button is-info"},s.a.createElement("span",{className:"icon"},s.a.createElement("i",{className:"fa fa-search"})))))}}]),a}(n.Component)),C=Object(l.b)(null,function(e){return{saveRecent:function(a){return e({type:"SAVE",value:a})}}})(x),D=function(e){function a(){return Object(o.a)(this,a),Object(m.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(b.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){var e=Object.values(this.props.recent).reverse();return s.a.createElement("section",{className:"section"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"is-hidden-desktop"},s.a.createElement("div",{className:"columns is-centered"},s.a.createElement("div",{className:"column is-narrow"},s.a.createElement(C,null)))),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-offset-1 is-5"},e[0]&&s.a.createElement(E,{job:e[0],showSkills:!0})),s.a.createElement("div",{className:"column is-offset-2 is-4"},e.length>0&&s.a.createElement("p",null,"Recent Jobs"),e.length>0&&e.map(function(e){return s.a.createElement(E,{key:e.job_uuid,job:e})})))))}}]),a}(n.Component),_=Object(l.b)(function(e){return{recent:e.recent}})(D),B=(t(72),function(e){function a(){return Object(o.a)(this,a),Object(m.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(b.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){return s.a.createElement("nav",{className:"navbar is-dark",role:"navigation","aria-label":"main navigation"},s.a.createElement("div",{className:"navbar-brand"},s.a.createElement("a",{className:"navbar-item",href:"/"},s.a.createElement("h3",{className:"title is-6 has-text-white"},"Via Work",s.a.createElement("span",{className:"icon"},s.a.createElement("i",{className:"fa fa-bars"})))),s.a.createElement("a",{className:"navbar-item is-hidden-desktop"},s.a.createElement("span",{className:"icon badge is-badge-danger","data-badge":"9+"},s.a.createElement("i",{className:"fa fa-bell"}))),s.a.createElement("a",{className:"navbar-item is-hidden-desktop"},s.a.createElement("span",{className:"icon badge is-badge-danger","data-badge":"8"},s.a.createElement("i",{className:"fa fa-envelope"}))),s.a.createElement("a",{className:"navbar-item is-hidden-desktop"},s.a.createElement("span",{className:"icon"},s.a.createElement("i",{className:"fa fa-user-circle"})))),s.a.createElement("div",{id:"navbarBasicExample",className:"navbar-menu"},s.a.createElement("div",{className:"navbar-end"},s.a.createElement("div",{className:"navbar-item"},s.a.createElement(C,null)),s.a.createElement("a",{className:"navbar-item"},s.a.createElement("span",{className:"icon badge is-badge-danger","data-badge":"9+"},s.a.createElement("i",{className:"fa fa-bell"}))),s.a.createElement("a",{className:"navbar-item "},s.a.createElement("span",{className:"icon badge is-badge-danger","data-badge":"8"},s.a.createElement("i",{className:"fa fa-envelope"}))),s.a.createElement("a",{className:"navbar-item"},s.a.createElement("span",{className:"icon"},s.a.createElement("i",{className:"fa fa-user-circle"}))))))}}]),a}(n.Component)),R=function(e){function a(){return Object(o.a)(this,a),Object(m.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(b.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(B,null),s.a.createElement(g.a,null,s.a.createElement(p.a,{exact:!0,path:"/",component:_})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T={recent:[]},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SAVE":return Object(N.a)({},e,{recent:e.recent.concat(a.value)});case"DELETE":return Object(N.a)({},e,{recent:e.recent.filter(function(e){return a.value!==e.job_uuid})});default:return e}},L=Object(i.b)(J);r.a.render(s.a.createElement(l.a,{store:L},s.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,2,1]]]);
//# sourceMappingURL=main.a0f9fda2.chunk.js.map